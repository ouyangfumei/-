<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title>旋转木马轮播图</title>
    <link rel="stylesheet" href="css/css.css" />
    <script src="common.js"></script>
    <script src="animate.js"></script>
</head>

<body>
<div class="wrap" id="wrap">
    <div class="slide" id="slide">
        <ul>
            <li>
                <a href="#"><img src="images/slidepic1.jpg" alt="" /></a>
            </li>
            <li>
                <a href="#"><img src="images/slidepic2.jpg" alt="" /></a>
            </li>
            <li>
                <a href="#"><img src="images/slidepic3.jpg" alt="" /></a>
            </li>
            <li>
                <a href="#"><img src="images/slidepic4.jpg" alt="" /></a>
            </li>
            <li>
                <a href="#"><img src="images/slidepic5.jpg" alt="" /></a>
            </li>
        </ul>
        <div class="arrow" id="arrow">
            <a href="javascript:;" class="prev" id="arrLeft"></a>
            <a href="javascript:;" class="next" id="arrRight"></a>
        </div>
    </div>
</div>
<script>

    var config = [{
        width: 400,
        top: 20,
        left: 50,
        opacity: 0.2,
        zIndex: 2
    }, //0
        {
            width: 600,
            top: 70,
            left: 0,
            opacity: 0.8,
            zIndex: 3
        }, //1
        {
            width: 800,
            top: 100,
            left: 200,
            opacity: 1,
            zIndex: 4
        }, //2
        {
            width: 600,
            top: 70,
            left: 600,
            opacity: 0.8,
            zIndex: 3
        }, //3
        {
            width: 400,
            top: 20,
            left: 750,
            opacity: 0.2,
            zIndex: 2
        } //4
    ];

    //先把所有的图片全都散开
    var lis = $id("slide").children[0].children;
    var arr = [];
    for(var i = 0; i < lis.length ; i++){
        arr.push(lis[i]);
    }
    rotate();

    //鼠标移入移出，把箭头显示和隐藏
    var wrap = $id("wrap");
    var arrow = $id("arrow");
    wrap.onmouseover = function(){
        animate_v5(arrow,{opacity:1});
    }
    wrap.onmouseout = function(){
        animate_v5(arrow,{opacity:0});
    }

    //点击左右箭头移动所有的图片
    var leftBtn = arrow.children[0];
    var rightBtn = arrow.children[1];
    leftBtn.onclick = function(){
        arr.push(arr.shift());
        rotate();
    }
    rightBtn.onclick = function (){
        arr.unshift(arr.pop());
        rotate();
    }

    function rotate(){
        for(var j = 0; j < arr.length ; j++){
            animate_v5(arr[j],config[j]);
        }
    }

</script>
</body>

</html>